(function(){function s(){var a=[];this.touchList=a;this.Touch=function(a,c,d,e,f,g,k,m){this.identifier=a;this.target=c;this.screenX=d;this.screenY=e;this.clientX=f;this.clientY=g;this.pageX=k;this.pageY=m};this.getTouch=function(b){var c;for(c=0;c<a.length;c+=1)if(a[c].identifier===b)return a[c]};this.addUpdateTouch=function(b){var c;for(c=0;c<a.length;c+=1)if(a[c].identifier===b.identifier){a[c]=b;return}a.push(b)};this.removeTouch=function(b){var c;for(c=0;c<a.length;c+=1)a[c].identifier===b&&
a.splice(c,1)};this.clearTouches=function(){for(;0<a.length;)a.pop()};this.containsTouchAt=function(b,c){var d;for(d=0;d<a.length;d+=1)if(a[d].screenX===b&&a[d].screenY===c)return!0;return!1}}function r(a,b){var c;b=b||{bubbles:!1,cancelable:!1,detail:void 0};c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c}function h(a,b,c,d,e){function f(a,b){var c,d;p.clearTouches();for(c=0;c<b.length;c++)d=b[c],d.target.isSameNode(a)&&p.addUpdateTouch(d)}function m(a){var b,
c;if("pointerdown"===a.type)b="touchstart";else if("pointermove"===a.type)b="touchmove";else throw Error("touchHandler received invalid event type: "+b+". Valid event types are pointerdown and pointermove");c=new g.Touch(a.pointerId,"pointerdown"===a.type?a.target:l,a.screenX,a.screenY,a.clientX,a.clientY,a.pageX,a.pageY);if(a.hwTimestamp>t){var d,e,q,h,n;e=k.touchList;for(d=0;d<e.length;d+=1)q=e[d],n=q.identifier,(h=g.getTouch(n))&&(h.screenX!==q.screenX||h.screenY!==q.screenY)||k.removeTouch(n)}g.addUpdateTouch(c);
k.addUpdateTouch(c);f(c.target,g.touchList);a.type=b;a=new r(b,{bubbles:!0,cancelable:!0});a.touches=g.touchList;a.changedTouches=k.touchList;a.targetTouches=p.touchList;a.type=b;return a}function h(a){var b,c;a.changedTouches=[];a.changedTouches.length=1;a.changedTouches[0]=a;a.changedTouches[0].identifier=a.pointerId;"pointerup"===a.type?b="touchend":"pointercancel"===a.type?b="touchcancel":"pointerleave"===a.type&&(b="touchleave");c=new g.Touch(a.pointerId,l,a.screenX,a.screenY,a.clientX,a.clientY,
a.pageX,a.pageY);a.hwTimestamp>t&&k.clearTouches();g.removeTouch(c.identifier);k.addUpdateTouch(c);f(c.target,g.touchList);a.type=b;a=new r(b,{bubbles:!0,cancelable:!0});a.touches=g.touchList;a.changedTouches=k.touchList;a.targetTouches=p.touchList;a.type=b;return a}var l;"pointerdown"!==a.type&&(b=g.getTouch(a.pointerId),l=b.target,a.target=l);b="pointerdown"===a.type||"pointermove"===a.type?m(a):h(a);b.preventDefault=function(){void 0!==a.preventDefault&&a.preventDefault()};a.target.dispatchEvent(b);
t=event.hwTimestamp}function y(a,b,c,d){void 0===a.__handJobjsRegisteredEvents&&(a.__handJobjsRegisteredEvents=[]);if(d)void 0!==a.__handJobjsRegisteredEvents[b]?a.__handJobjsRegisteredEvents[b]+=1:(a.__handJobjsRegisteredEvents[b]=1,a.addEventListener(b,c,!1));else{if(-1!==a.__handJobjsRegisteredEvents.indexOf(b)&&(a.__handJobjsRegisteredEvents[b]-=1,0!==a.__handJobjsRegisteredEvents[b]))return;a.removeEventListener(b,c);a.__handJobjsRegisteredEvents[b]=0}}function z(a,b,c){a.__handJobjsGlobalRegisteredEvents||
(a.__handJobjsGlobalRegisteredEvents=[]);if(c){if(void 0!==a.__handJobjsGlobalRegisteredEvents[b]){a.__handJobjsGlobalRegisteredEvents[b]+=1;return}a.__handJobjsGlobalRegisteredEvents[b]=1}else void 0!==a.__handJobjsGlobalRegisteredEvents[b]&&(a.__handJobjsGlobalRegisteredEvents[b]-=1,0>a.__handJobjsGlobalRegisteredEvents[b]&&(a.__handJobjsGlobalRegisteredEvents[b]=0));void 0!==a["on"+b.toLowerCase()]&&y(a,b,function(a){h(a,b)},c)}function e(a){function b(a,b,e){-1!==v.indexOf(a)&&z(this,a,!0);c.call(this,
a,b,e)}var c=a.prototype?a.prototype.addEventListener:a.addEventListener;a.prototype?a.prototype.addEventListener=b:a.addEventListener=b}function n(a,b){a.preventManipulation&&a.preventManipulation();h(touchPoint,b)}function A(a,b){if(void 0===a.ontouchdown&&void 0!==a.ontouchstart)switch(b.toLowerCase()){case "touchstart":a.removeEventListener("pointerdown",function(a){n(a,b)});break;case "touchmove":a.removeEventListener("pointermove",function(a){n(a,b)});break;case "touchend":a.removeEventListener("pointerup",
function(a){n(a,b)});break;case "touchcancel":a.removeEventListener("pointercancel",function(a){n(a,b)})}}function f(a){function b(a,b,e){-1!==v.indexOf(a)&&A(this,a);c.call(this,a,b,e)}var c=a.prototype?a.prototype.removeEventListener:a.removeEventListener;a.prototype?a.prototype.removeEventListener=b:a.removeEventListener=b}function l(a,b,c,d,e,f){for(d=c;d&&(!d.__handJobjsGlobalRegisteredEvents||!d.__handJobjsGlobalRegisteredEvents[a]);)d=d.parentNode;d=d?d:window.__handJobjsGlobalRegisteredEvents&&
window.__handJobjsGlobalRegisteredEvents[a]?window:void 0;d&&h(b,a,e,c,f)}function w(a){var b=[];if(a)for(b.unshift(a);a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function x(a,b){for(var c=w(a),d=w(b),e=null;0<c.length&&c[0]===d.shift();)e=c.shift();return e}function B(a,b,c){b=x(a,b);for(var d=[];a&&a!==b;)a.__handJobjsGlobalRegisteredEvents&&a.__handJobjsGlobalRegisteredEvents.touchenter&&d.push(a),a=a.parentNode;for(;0<d.length;)c(d.pop())}function C(a,b,c){for(b=x(a,b);a&&a!==
b;)a.__handJobjsGlobalRegisteredEvents&&a.__handJobjsGlobalRegisteredEvents.touchleave&&c(a),a=a.parentNode}var t=0,m=navigator.userAgent,v=["touchstart","touchmove","touchend","touchcancel","touchleave"],u={},g,k,p;r.prototype=window.Event.prototype;"object"===typeof window.ontouchstart||m.match(/iPad/i)||m.match(/iPhone/i)||m.match(/iPod/i)||m.match(/Android/i)||m.match(/MSIE/i)&&!m.match(/Touch/i)||(function(){var a=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");
b.type="text/css";b.styleSheet?b.styleSheet.cssText="html { -ms-touch-action: none; }":b.appendChild(document.createTextNode("html { -ms-touch-action: none; }"));a.appendChild(b)}(),g=new s,k=new s,p=new s,window.CustomEvent=r,e(window),e(window.HTMLElement||window.Element),e(document),e(HTMLBodyElement),e(HTMLDivElement),e(HTMLImageElement),e(HTMLUListElement),e(HTMLAnchorElement),e(HTMLLIElement),e(HTMLTableElement),window.HTMLSpanElement&&e(HTMLSpanElement),window.HTMLCanvasElement&&e(HTMLCanvasElement),
window.SVGElement&&e(SVGElement),f(window),f(window.HTMLElement||window.Element),f(document),f(HTMLBodyElement),f(HTMLDivElement),f(HTMLImageElement),f(HTMLUListElement),f(HTMLAnchorElement),f(HTMLLIElement),f(HTMLTableElement),window.HTMLSpanElement&&f(HTMLSpanElement),window.HTMLCanvasElement&&f(HTMLCanvasElement),window.SVGElement&&f(SVGElement),function(){function a(a){return"mouse"===a.pointerType||"pen"===a.pointerType&&0===a.pressure&&"pointermove"===a.type?!0:!1}window.addEventListener("pointerdown",
function(b){a(b)||(u[b.identifier]=b.target,l("touchenter",b,b.target,b,!0),B(b.target,null,function(a){h(b,"touchenter",!1,a,void 0)}),l("touchstart",b,b.target,b,!0))});window.addEventListener("pointerup",function(b){var c=u[b.identifier];a(b)||(l("touchend",b,c,b,!0),l("touchleave",b,c,b,!0),C(c,null,function(a){h(b,"touchleave",!1,a,void 0)}))});window.addEventListener("pointermove",function(b){var c=u[b.identifier];if(!a(b)&&!g.containsTouchAt(b.screenX,b.screenY)){var d;if(d=c){for(d=c;d&&!d.handJobjs_forcePreventDefault;)d=
d.parentNode;d=!0===(!!d||window.handJobjs_forcePreventDefault)}d&&b.preventDefault();l("touchmove",b,c,b,!0)}})}())})();