(function(){function i(){function t(e,t,n,r,i,s,o,u){this.identifier=e;this.target=t;this.screenX=n;this.screenY=r;this.clientX=i;this.clientY=s;this.pageX=o;this.pageY=u}function n(t){var n;for(n=0;n<e.length;n+=1){if(e[n].identifier===t.identifier){e[n]=t;return}}e.push(t)}function r(t){var n;for(n=0;n<e.length;n+=1){if(e[n].identifier===t){e.splice(n,1)}}}function i(t,n){var r;for(r=0;r<e.length;r+=1){if(e[r].clientX===t&&e[r].clientY===n){return true}}return false}var e=[];this.touchList=e;this.Touch=t;this.addUpdateTouch=n;this.removeTouch=r;this.containsTouchAt=i}function s(e,t){var n;t=t||{bubbles:false,cancelable:false,detail:undefined};n=document.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return n}function o(e){while(e&&!e.handJobjs_forcePreventDefault){e=e.parentNode}return!!e||window.handJobjs_forcePreventDefault}function u(e,t,n,i,o){function a(e){var t,n,i;t="";if(e.type==="pointerdown"){t="touchstart"}else if(e.type==="pointermove"){t="touchmove"}n=new r.Touch(e.pointerId,e.target,e.screenX,e.screenY,e.clientX,e.clientY,e.pageX,e.pageY);r.addUpdateTouch(n);e.type=t;i=new s(t,{bubbles:true,cancelable:true});i.touches=r.touchList;i.type=t;return i}function f(e){var t,n,i;e.changedTouches=[];e.changedTouches.length=1;e.changedTouches[0]=e;e.changedTouches[0].identifier=e.pointerId;if(e.type==="pointerup"){t="touchend"}else if(e.type==="pointercancel"){t="touchcancel"}else if(e.type==="pointerleave"){t="touchleave"}n=new r.Touch(e.pointerId,e.target,e.screenX,e.screenY,e.clientX,e.clientY,e.pageX,e.pageY);r.removeTouch(n.identifier);e.type=t;i=new s(t,{bubbles:true,cancelable:true});i.touches=r.touchList;i.type=t;return i}var u;if(e.type==="pointerdown"||e.type==="pointermove"){u=a(e)}else{u=f(e)}u.preventDefault=function(){if(e.preventDefault!==undefined){e.preventDefault()}};e.target.dispatchEvent(u)}function a(e,t,n,r,i,s){u(t,e,i,n,s)}function f(e,t,n,r){if(e.__handJobjsRegisteredEvents===undefined){e.__handJobjsRegisteredEvents=[]}if(r){if(e.__handJobjsRegisteredEvents[t]!==undefined){e.__handJobjsRegisteredEvents[t]+=1;return}e.__handJobjsRegisteredEvents[t]=1;e.addEventListener(t,n,false)}else{if(e.__handJobjsRegisteredEvents.indexOf(t)!==-1){e.__handJobjsRegisteredEvents[t]-=1;if(e.__handJobjsRegisteredEvents[t]!==0){return}}e.removeEventListener(t,n);e.__handJobjsRegisteredEvents[t]=0}}function l(e,t,n){function s(e){return e}var r,i;if(!e.__handJobjsGlobalRegisteredEvents){e.__handJobjsGlobalRegisteredEvents=[]}if(n){if(e.__handJobjsGlobalRegisteredEvents[t]!==undefined){e.__handJobjsGlobalRegisteredEvents[t]+=1;return}e.__handJobjsGlobalRegisteredEvents[t]=1}else{if(e.__handJobjsGlobalRegisteredEvents[t]!==undefined){e.__handJobjsGlobalRegisteredEvents[t]-=1;if(e.__handJobjsGlobalRegisteredEvents[t]<0){e.__handJobjsGlobalRegisteredEvents[t]=0}}}r=u;i=s(t);if(e["on"+i.toLowerCase()]!==undefined){f(e,i,function(e){r(e,t)},n)}}function c(e){function r(e,r,i){if(t.indexOf(e)!==-1){l(this,e,true)}n.call(this,e,r,i)}var n=e.prototype?e.prototype.addEventListener:e.addEventListener;if(e.prototype){e.prototype.addEventListener=r}else{e.addEventListener=r}}function h(e,t){if(e.preventManipulation){e.preventManipulation()}u(touchPoint,t)}function p(e,t){if(e.ontouchdown!==undefined){return}if(e.ontouchstart!==undefined){switch(t.toLowerCase()){case"touchstart":e.removeEventListener("pointerdown",function(e){h(e,t)});break;case"touchmove":e.removeEventListener("pointermove",function(e){h(e,t)});break;case"touchend":e.removeEventListener("pointerup",function(e){h(e,t)});break;case"touchcancel":e.removeEventListener("pointercancel",function(e){h(e,t)});break}}}function d(e){function r(e,r,i){if(t.indexOf(e)!==-1){p(this,e)}n.call(this,e,r,i)}var n=e.prototype?e.prototype.removeEventListener:e.removeEventListener;if(e.prototype){e.prototype.removeEventListener=r}else{e.removeEventListener=r}}function v(e,t){return e.__handJobjsGlobalRegisteredEvents&&e.__handJobjsGlobalRegisteredEvents[t]}function m(e,t){while(e&&!v(e,t)){e=e.parentNode}if(e){return e}if(v(window,t)){return window}}function g(e,t,n,r,i,s){if(m(n,e)){a(e,t,n,r,i,s)}}function y(e){var t=[];if(e){t.unshift(e);while(e.parentNode){t.unshift(e.parentNode);e=e.parentNode}}return t}function b(e,t){var n=y(e),r=y(t),i=null;while(n.length>0&&n[0]===r.shift()){i=n.shift()}return i}function w(e,t,n){var r=b(e,t),i=e,s=[];while(i&&i!==r){if(v(i,"touchenter")){s.push(i)}i=i.parentNode}while(s.length>0){n(s.pop())}}function E(e,t,n){var r=b(e,t),i=e;while(i&&i!==r){if(v(i,"touchleave")){n(i)}i=i.parentNode}}var e=navigator.userAgent,t=["touchstart","touchmove","touchend","touchcancel","touchleave"],n={},r;s.prototype=window.Event.prototype;if(typeof window.ontouchstart==="object"){return}if(e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)||e.match(/Android/i)||e.match(/MSIE/i)&&!e.match(/Touch/i)){return}(function(){var e="html { -ms-touch-action: none; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";if(n.styleSheet){n.styleSheet.cssText=e}else{n.appendChild(document.createTextNode(e))}t.appendChild(n)})();r=new i;window.CustomEvent=s;c(window);c(window.HTMLElement||window.Element);c(document);c(HTMLBodyElement);c(HTMLDivElement);c(HTMLImageElement);c(HTMLUListElement);c(HTMLAnchorElement);c(HTMLLIElement);c(HTMLTableElement);if(window.HTMLSpanElement){c(HTMLSpanElement)}if(window.HTMLCanvasElement){c(HTMLCanvasElement)}if(window.SVGElement){c(SVGElement)}d(window);d(window.HTMLElement||window.Element);d(document);d(HTMLBodyElement);d(HTMLDivElement);d(HTMLImageElement);d(HTMLUListElement);d(HTMLAnchorElement);d(HTMLLIElement);d(HTMLTableElement);if(window.HTMLSpanElement){d(HTMLSpanElement)}if(window.HTMLCanvasElement){d(HTMLCanvasElement)}if(window.SVGElement){d(SVGElement)}(function(){if(typeof window.ontouchstart==="object"){return}if(typeof window.ontouchstart==="undefined"){window.addEventListener("pointerdown",function(e){var t=e;if(e.pointerType==="mouse"){return}n[t.identifier]=t.target;g("touchenter",t,t.target,e,true);w(t.target,null,function(n){a("touchenter",t,n,e,false)});g("touchstart",t,t.target,e,true)});window.addEventListener("pointerup",function(e){var t=e,r=n[t.identifier];if(e.pointerType==="mouse"){return}g("touchend",t,r,e,true);g("touchleave",t,r,e,true);E(r,null,function(n){a("touchleave",t,n,e,false)})});window.addEventListener("pointermove",function(e){var t=e,i=n[t.identifier];console.log("pointer move fired");if(e.pointerType==="mouse"){return}if(r.containsTouchAt(e.clientX,e.clientY)){return}if(i&&o(i)===true){e.preventDefault()}g("touchmove",t,i,e,true)})}})()})()